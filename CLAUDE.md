# 项目：可视化演示集合

## 项目定位

**一句话描述：**
一个可视化演示项目的集合，每个演示独立运行，通过索引页导航。

**当前包含的演示：**

### 1. 结构能演示（`demos/structure-energy/`）
- **核心概念**：通过调整权重阈值，让强连接自然浮现出清晰的几何结构（六角星）
- **目标用户**：普通上班族（无技术背景，需要直观理解"消除弱连接后,强连接自然显现结构"这一概念）
- **详细文档**：
  - 需求文档：[specs/structure-energy/requirements.md](specs/structure-energy/requirements.md)
  - 设计文档：[specs/structure-energy/design.md](specs/structure-energy/design.md)

---

## 技术栈

**极简原则：Less is More**

- **语言**：原生 JavaScript (ES6+)
- **渲染**：HTML5 Canvas API（或其他原生API）
- **样式**：内联 CSS（无需单独文件）
- **依赖**：零依赖（不引入任何第三方库）
- **构建**：零构建（直接用浏览器打开 `index.html`）

---

## 本地环境

- **操作系统**：Windows 11
- **工作目录**：`E:\MarssPython\2511-structure`
- **运行方式**：
  - 直接双击根目录的 `index.html` 查看演示列表
  - 或直接打开任意演示的 `index.html`（如 `demos/structure-energy/index.html`）

---

## 📁 项目结构

```
E:\MarssPython\2511-structure/
├── index.html                      # 演示索引页（导航入口）
├── demos/                          # 所有演示的目录
│   ├── structure-energy/           # 结构能演示
│   │   ├── index.html              # 演示页面（包含全部逻辑）
│   │   └── data.js                 # 数据文件（节点 + 边的权重）
│   ├── demo2/                      # 未来的第二个演示
│   └── demo3/                      # 未来的第三个演示
├── specs/                          # 需求和设计文档
│   ├── structure-energy/
│   │   ├── requirements.md         # 需求文档（用户故事、验收标准）
│   │   └── design.md               # 设计文档（数据结构、技术实现）
│   ├── demo2/
│   └── demo3/
├── CLAUDE.md                       # 本文件（项目总览，给AI和开发者看）
└── README.md                       # 用户说明（给普通人看的使用指南）
```

**设计原则：**
- 每个演示完全独立，互不依赖
- 添加新演示只需在 `demos/` 下新建文件夹
- 索引页是纯静态链接，无需框架或构建工具
- 每个演示都有对应的 `specs/` 文档（requirements.md + design.md）

---

## 开发约定（Linus 哲学）

### 1. **Good Taste：消除所有特殊情况**
- 代码应该从不同角度重写，让特殊情况消失，变成正常情况
- 经典案例：链表删除操作，10行带if判断优化为4行无条件分支
- 好品味是一种直觉，需要经验积累

### 2. **实用主义：解决真实问题**
- 拒绝"理论完美"但实际复杂的方案
- 代码要为现实服务，不是为论文服务
- 如果需要超过3层缩进，你就已经完蛋了，应该修复你的程序

### 3. **零破坏性：向后兼容**
- 数据结构设计为"只增不改"：未来要加新功能，只需要添加字段
- 不破坏现有功能是铁律

### 4. **极简执念**
- 函数必须短小精悍，只做一件事并做好
- 复杂性是万恶之源
- 过早优化是万恶之源

---

## 添加新演示的流程

### 步骤1：创建演示目录
```bash
mkdir demos/your-demo-name
```

### 步骤2：创建演示文件
在 `demos/your-demo-name/` 下创建：
- `index.html` - 演示页面
- 其他必要的数据文件（如 `data.js`）

### 步骤3：创建文档目录
```bash
mkdir specs/your-demo-name
```

### 步骤4：编写文档
在 `specs/your-demo-name/` 下创建：
- `requirements.md` - 需求文档（参考 `specs/structure-energy/requirements.md`）
- `design.md` - 设计文档（参考 `specs/structure-energy/design.md`）

### 步骤5：更新索引页
在根目录的 `index.html` 中添加新演示的卡片：

```html
<li class="demo-item">
  <h2>你的演示名称</h2>
  <p>演示描述</p>
  <a href="demos/your-demo-name/index.html">打开演示 →</a>
</li>
```

### 步骤6：更新 CLAUDE.md
在本文件的"当前包含的演示"部分添加新演示的说明。

---

## 文档规范

### requirements.md（需求文档）
**受众**：产品经理、QA测试、用户
**内容**：
- 背景与目标
- 用户故事（"作为XXX，我希望XXX，以便XXX"）
- 验收标准（WHEN...THEN...SHALL...）
- 非功能需求
- 未来扩展

### design.md（设计文档）
**受众**：开发者、技术维护者、AI助手
**内容**：
- 数据结构设计
- 核心实现逻辑（代码示例）
- 技术决策（为什么选A不选B）
- 性能优化
- 测试策略

---

## 技术约束（全局）

1. **零依赖**：不引入任何第三方库，除非绝对必要
2. **零构建**：保持"双击 HTML 就能运行"的简洁性
3. **零DOM污染**：演示之间不互相影响
4. **使用中文注释**：所有代码注释和文档用中文
5. **可读性优先**：代码写给人看，不是写给机器看

---

## 验收标准（全局）

### ✅ 功能完整性
- [ ] 索引页能正常显示所有演示列表
- [ ] 每个演示都能独立运行
- [ ] 演示之间互不影响

### ✅ 文档完整性
- [ ] 每个演示都有 requirements.md
- [ ] 每个演示都有 design.md
- [ ] 文档内容与实际实现一致

### ✅ 代码质量（Linus 标准）
- [ ] 每个演示的核心逻辑 < 200 行代码（不含注释）
- [ ] 没有超过3层的嵌套循环或条件判断
- [ ] 数据结构设计为"只增不改"

---

## 相关文档

- **README.md**：用户使用指南（如何运行、如何理解演示）
- **specs/**：各个演示的详细需求和设计文档

---

## 总结

这是一个**极简主义**的可视化演示项目集合：

- **零依赖**：原生 JavaScript + HTML5 API
- **零构建**：双击即运行
- **零耦合**：每个演示完全独立
- **文档规范**：需求和设计分离，职责清晰

**Remember: Less is More. 如果代码超过200行，说明方向错了。**
