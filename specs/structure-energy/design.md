# è®¾è®¡æ–‡æ¡£ï¼šç»“æ„èƒ½æ¼”ç¤º

> **ğŸ“ æ–‡æ¡£çŠ¶æ€**ï¼šæœ¬æ–‡æ¡£æè¿°æŠ€æœ¯å®ç°æ–¹æ¡ˆ
> - âœ… ç»¿è‰²æ ‡è®° = å·²å®ç°
> - ğŸ”„ é»„è‰²æ ‡è®° = å®ç°æ–¹æ¡ˆæœ‰è°ƒæ•´
> - â¬œ ç°è‰²æ ‡è®° = æœªå®ç°ï¼ˆPhase 2ï¼‰

## æ¦‚è¿° (Overview)

### åŠŸèƒ½ç›®æ ‡
ç”¨äº¤äº’å¼ç½‘é¡µæ¼”ç¤º"ç»“æ„èƒ½"çš„æ ¸å¿ƒæ¦‚å¿µâ€”â€”é€šè¿‡è°ƒæ•´æƒé‡é˜ˆå€¼ï¼Œè®©å¼ºè¿æ¥è‡ªç„¶æµ®ç°å‡ºæ¸…æ™°çš„å‡ ä½•ç»“æ„ï¼ˆå…­è§’æ˜Ÿï¼‰ã€‚

**å®ç°çŠ¶æ€**ï¼šâœ… MVP å·²å®Œæˆ

### è®¾è®¡åŸåˆ™ï¼ˆLinuså“²å­¦ï¼‰

#### 1. **Good Tasteï¼šæ¶ˆé™¤æ‰€æœ‰ç‰¹æ®Šæƒ…å†µ**
- ä¸éœ€è¦åˆ¤æ–­"æ˜¯å¦æ˜¯å…­è§’æ˜Ÿçš„è¾¹"ï¼Œåªéœ€è¦ç»Ÿä¸€è¿‡æ»¤ `weight >= threshold`
- ä¸éœ€è¦åŒºåˆ†"æ˜¾ç¤º/éšè—"çŠ¶æ€ï¼Œåªéœ€è¦"é‡æ–°æ¸²æŸ“å½“å‰é˜ˆå€¼ä¸‹åº”è¯¥ç”»çš„è¾¹"

#### 2. **å®ç”¨ä¸»ä¹‰ï¼šè§£å†³çœŸå®é—®é¢˜**
- é—®é¢˜ï¼šå¦‚ä½•è®©æ™®é€šäººç†è§£"ç»“æ„èƒ½"ï¼Ÿ
- æ–¹æ¡ˆï¼šç”¨è§†è§‰ç›´è§‚å±•ç¤º"è°ƒæƒé‡â†’æ˜¾ç»“æ„"
- æ‹’ç»ï¼šåŠ é…·ç‚«åŠ¨ç”»ã€3Dæ•ˆæœã€ç‰©ç†å¼•æ“ç­‰"ç†è®ºå®Œç¾"ä½†å®é™…å¤æ‚çš„ä¸œè¥¿

#### 3. **ç®€æ´æ‰§å¿µï¼šå¦‚æœè¶…è¿‡3å±‚ç¼©è¿›ï¼Œä½ å°±å®Œè›‹äº†**
- æ•´ä¸ªæ¸²æŸ“é€»è¾‘ï¼šæ¸…å± â†’ è¿‡æ»¤ â†’ ç”»è¾¹ â†’ ç”»ç‚¹ï¼Œ4æ­¥å®Œæˆ
- æ²¡æœ‰åµŒå¥—å¾ªç¯ï¼Œæ²¡æœ‰å¤æ‚æ¡ä»¶åˆ¤æ–­

#### 4. **é›¶ç ´åæ€§ï¼šå‘åå…¼å®¹**
- æ•°æ®ç»“æ„è®¾è®¡ä¸º"åªå¢ä¸æ”¹"ï¼šæœªæ¥è¦åŠ æ–°åŠŸèƒ½ï¼Œåªéœ€è¦åœ¨ `GRAPH` é‡ŒåŠ å­—æ®µ
- ä¾‹å¦‚ï¼šæƒ³åŠ "èŠ‚ç‚¹é¢œè‰²"ï¼ŸåŠ ä¸€ä¸ª `color` å­—æ®µå³å¯ï¼Œä¸å½±å“ç°æœ‰é€»è¾‘

---

## æ ¸å¿ƒæ•°æ®ç»“æ„

### å›¾æ•°æ®æ¨¡å‹

```javascript
// å…¨éƒ¨æ•°æ®å°±è¿™ä¸‰ä¸ªéƒ¨åˆ†
const GRAPH = {
  // 1. èŠ‚ç‚¹ï¼š12ä¸ªç‚¹çš„åæ ‡ï¼ˆæ‰‹åŠ¨æ‘†æ”¾æˆåœ†å‘¨ï¼‰
  nodes: [
    {id: 0, x: 250, y: 50},   // é¡¶ç‚¹
    {id: 1, x: 400, y: 150},  // å³ä¸Š
    // ... å…¶ä»–10ä¸ªç‚¹
  ],

  // 2. è¾¹ï¼šæ‰€æœ‰ç‚¹ä¹‹é—´çš„è¿æ¥æƒé‡ï¼ˆå®Œå…¨å›¾ï¼Œå…± 12*11/2 = 66 æ¡è¾¹ï¼‰
  edges: [
    {from: 0, to: 1, weight: 0.2},  // å¼±è¿æ¥ï¼ˆå™ªéŸ³ï¼‰
    {from: 0, to: 6, weight: 0.9},  // å¼ºè¿æ¥ï¼ˆå…­è§’æ˜Ÿçš„è¾¹ï¼‰
    {from: 1, to: 7, weight: 0.9},  // å¼ºè¿æ¥
    // ... å‰©ä½™è¾¹
  ]
};

// 3. é˜ˆå€¼ï¼šç”¨æˆ·é€šè¿‡æ»‘å—æ§åˆ¶ï¼ˆ0-1ä¹‹é—´ï¼‰
let threshold = 0.5;  // åªæ˜¾ç¤ºæƒé‡ >= 0.5 çš„è¾¹
```

### èŠ‚ç‚¹åæ ‡è®¡ç®—é€»è¾‘

```javascript
// 12ä¸ªç‚¹å‡åŒ€åˆ†å¸ƒåœ¨åŠå¾„200çš„åœ†ä¸Š
const radius = 200;
const centerX = 250, centerY = 250;
const numNodes = 12;

for (let i = 0; i < numNodes; i++) {
  const angle = (Math.PI * 2 / numNodes) * i - Math.PI / 2;  // ä»é¡¶éƒ¨å¼€å§‹
  nodes.push({
    id: i,
    x: centerX + radius * Math.cos(angle),
    y: centerY + radius * Math.sin(angle)
  });
}
```

### è¾¹æƒé‡è®¾è®¡é€»è¾‘

**å¼ºè¿æ¥ï¼ˆå½¢æˆå…­è§’æ˜Ÿï¼‰ï¼š**
- å…­è§’æ˜Ÿçš„å¤–ç¯ï¼šæ¯ä¸ªèŠ‚ç‚¹è¿æ¥åˆ°"éš”ä¸€ä¸ªèŠ‚ç‚¹"çš„ä¸¤ä¸ªç‚¹
  - ä¾‹å¦‚ï¼š0â†’2, 2â†’4, 4â†’6, 6â†’8, 8â†’10, 10â†’0ï¼ˆå¤–ç¯ï¼‰
- å…­è§’æ˜Ÿçš„å†…éƒ¨äº¤å‰çº¿ï¼š
  - ä¾‹å¦‚ï¼š0â†’6, 1â†’7, 2â†’8, 3â†’9, 4â†’10, 5â†’11ï¼ˆç›´å¾„ï¼‰
- è¿™äº›è¾¹çš„æƒé‡è®¾ä¸º **0.8-1.0**

**å¼±è¿æ¥ï¼ˆå™ªéŸ³ï¼‰ï¼š**
- å…¶ä½™æ‰€æœ‰è¾¹çš„æƒé‡è®¾ä¸º **0.1-0.4**

---

## æ ¸å¿ƒå®ç°é€»è¾‘

### æ¸²æŸ“å‡½æ•°ï¼ˆæ ¸å¿ƒ3è¡Œï¼‰âœ…

```javascript
function render(threshold) {
  ctx.clearRect(0, 0, 500, 500);  // æ¸…å±

  // åªç”»æƒé‡ >= é˜ˆå€¼çš„è¾¹
  GRAPH.edges
    .filter(e => e.weight >= threshold)
    .forEach(e => drawLine(e.from, e.to, e.weight));

  // ç”»æ‰€æœ‰èŠ‚ç‚¹ï¼ˆæ°¸è¿œæ˜¾ç¤ºï¼‰
  GRAPH.nodes.forEach(n => drawNode(n.x, n.y));
}
```

**è®¾è®¡äº®ç‚¹ï¼š**
- å•ä¸€æ•°æ®æµï¼šæ•°æ® â†’ è¿‡æ»¤ â†’ æ¸²æŸ“
- æ— çŠ¶æ€ç®¡ç†ï¼šæ¯æ¬¡é‡æ–°æ¸²æŸ“ï¼Œä¸ä¿å­˜"å“ªäº›è¾¹æ˜¾ç¤ºäº†"
- æ¶ˆé™¤ç‰¹æ®Šæƒ…å†µï¼šä¸€è¡Œ `filter()` ç»Ÿä¸€å¤„ç†æ‰€æœ‰è¾¹

### äº¤äº’é€»è¾‘ï¼ˆæ»‘å—äº‹ä»¶ï¼‰âœ…

```javascript
<input type="range" min="0" max="1" step="0.01" value="0.5"
       oninput="threshold=this.value; render(threshold);">
```

**å°±è¿™ä¹ˆç®€å•ã€‚æ²¡æœ‰å¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼Œæ²¡æœ‰æ¡†æ¶ï¼Œæ²¡æœ‰æ„å»ºå·¥å…·ã€‚**

### ç»˜åˆ¶å‡½æ•° âœ…

```javascript
// ç»˜åˆ¶è¿æ¥çº¿
function drawLine(fromId, toId, weight) {
  const from = GRAPH.nodes[fromId];
  const to = GRAPH.nodes[toId];

  ctx.beginPath();
  ctx.moveTo(from.x, from.y);
  ctx.lineTo(to.x, to.y);

  // æƒé‡è¶Šé«˜ï¼Œé¢œè‰²è¶Šæ·±
  const alpha = weight;  // 0-1 æ˜ å°„åˆ°é€æ˜åº¦
  ctx.strokeStyle = `rgba(0, 0, 0, ${alpha})`;
  ctx.lineWidth = 2;
  ctx.stroke();
}

// ç»˜åˆ¶èŠ‚ç‚¹
function drawNode(x, y) {
  ctx.beginPath();
  ctx.arc(x, y, 6, 0, Math.PI * 2);
  ctx.fillStyle = '#333';
  ctx.fill();
}
```

---

## æŠ€æœ¯å†³ç­–

### âœ… ä¸ºä»€ä¹ˆç”¨ Canvas è€Œä¸æ˜¯ SVGï¼Ÿ

| ç»´åº¦ | Canvasï¼ˆå·²é€‰æ‹©ï¼‰ | SVGï¼ˆæœªé€‰æ‹©ï¼‰ |
|-----|----------------|-------------|
| **æ€§èƒ½** | æ›´å¥½ï¼ˆç›´æ¥ç»˜åˆ¶åƒç´ ï¼‰ | è¾ƒå·®ï¼ˆåˆ›å»º DOM å…ƒç´ ï¼‰ |
| **ä»£ç ç®€æ´åº¦** | ç®€å•ï¼ˆç”»çº¿å°±æ˜¯ `lineTo()`ï¼‰ | å¤æ‚ï¼ˆéœ€è¦åˆ›å»º `<line>` å…ƒç´ ï¼‰ |
| **äº¤äº’éœ€æ±‚** | ä¸éœ€è¦ï¼ˆåªæ˜¯å±•ç¤ºï¼‰ | é€‚åˆï¼ˆå¦‚æœéœ€è¦ç‚¹å‡»èŠ‚ç‚¹ï¼‰ |
| **ä»£ç è¡Œæ•°** | ~50 è¡Œ | ~100 è¡Œ |

**ç»“è®ºï¼š** æˆ‘ä»¬ä¸éœ€è¦ SVG çš„äº¤äº’èƒ½åŠ›ï¼ŒCanvas æ›´ç®€å•ã€‚

---

### âœ… ä¸ºä»€ä¹ˆä¸ç”¨ D3.js / Three.jsï¼Ÿ

**D3.jsï¼š**
- âŒ é€‚åˆåŠ¨æ€å¸ƒå±€ã€åŠ›å¯¼å‘å›¾
- âŒ æˆ‘ä»¬çš„èŠ‚ç‚¹åæ ‡æ˜¯**æ‰‹åŠ¨å›ºå®šçš„**ï¼Œä¸éœ€è¦è‡ªåŠ¨å¸ƒå±€
- âŒ å¼•å…¥ 50KB+ çš„åº“æ¥ç”»12ä¸ªç‚¹ï¼Ÿæ€é¸¡ç”¨ç‰›åˆ€

**Three.jsï¼š**
- âŒ é€‚åˆ 3D æ¸²æŸ“
- âŒ æˆ‘ä»¬æ˜¯ **2D å¹³é¢**ï¼Œä¸éœ€è¦ 3D

**ç»“è®ºï¼š** åŸç”Ÿ Canvas API è¶³å¤Ÿï¼Œé›¶ä¾èµ–ã€‚

---

### âœ… ä¸ºä»€ä¹ˆä¸ç”¨ç‰©ç†å¼•æ“ï¼Ÿ

**ä¸éœ€è¦çš„åŸå› ï¼š**
- èŠ‚ç‚¹åæ ‡æ˜¯æ‰‹åŠ¨æ‘†æ”¾çš„ï¼ˆåœ†å‘¨å‡åŒ€åˆ†å¸ƒï¼‰
- ä¸éœ€è¦ç¢°æ’æ£€æµ‹
- ä¸éœ€è¦é‡åŠ›æ¨¡æ‹Ÿ

**æœªæ¥å¦‚æœéœ€è¦ï¼š**
- å†åŠ ä¹Ÿä¸è¿Ÿï¼ˆæ•°æ®ç»“æ„æ”¯æŒæ‰©å±•ï¼‰
- åªéœ€åœ¨ `GRAPH.nodes` é‡ŒåŠ  `vx`, `vy` å­—æ®µ

---

## æ–‡ä»¶ç»“æ„

### å®Œæ•´æ–‡ä»¶æ¸…å•

```
demos/structure-energy/
â”œâ”€â”€ index.html          # å”¯ä¸€çš„HTMLæ–‡ä»¶ï¼ˆåŒ…å«å…¨éƒ¨é€»è¾‘ï¼‰
â””â”€â”€ data.js             # æ•°æ®æ–‡ä»¶ï¼ˆ12ä¸ªç‚¹ + 66æ¡è¾¹çš„æƒé‡ï¼‰
```

**å°±è¿™2ä¸ªæ–‡ä»¶ï¼Œæ²¡æœ‰æ›´å¤šäº†ã€‚**

### index.html ç»“æ„

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    /* å†…è” CSSï¼Œæ— éœ€å•ç‹¬æ–‡ä»¶ */
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <input type="range" id="slider">
  <div id="threshold-display"></div>

  <script src="data.js"></script>
  <script>
    // æ ¸å¿ƒé€»è¾‘ï¼ˆ<50è¡Œï¼‰
    function render(threshold) { /* ... */ }
    function drawLine() { /* ... */ }
    function drawNode() { /* ... */ }
  </script>
</body>
</html>
```

---

## æ•°æ®ç”Ÿæˆé€»è¾‘

### èŠ‚ç‚¹åæ ‡ç”Ÿæˆï¼ˆPython è„šæœ¬ï¼‰

```python
import math

radius = 200
center_x, center_y = 250, 250
num_nodes = 12

nodes = []
for i in range(num_nodes):
    angle = (2 * math.pi / num_nodes) * i - math.pi / 2
    x = center_x + radius * math.cos(angle)
    y = center_y + radius * math.sin(angle)
    nodes.append({"id": i, "x": round(x), "y": round(y)})

print("nodes:", nodes)
```

### è¾¹æƒé‡ç”Ÿæˆè§„åˆ™

```python
import random

edges = []

# å…­è§’æ˜Ÿçš„å¼ºè¿æ¥ï¼ˆæƒé‡ 0.8-1.0ï¼‰
star_edges = [
    (0, 2), (2, 4), (4, 6), (6, 8), (8, 10), (10, 0),  # å¤–ç¯
    (0, 6), (1, 7), (2, 8), (3, 9), (4, 10), (5, 11)   # ç›´å¾„
]

for (from_id, to_id) in star_edges:
    weight = round(random.uniform(0.8, 1.0), 2)
    edges.append({"from": from_id, "to": to_id, "weight": weight})

# å…¶ä½™è¾¹ä¸ºå¼±è¿æ¥ï¼ˆæƒé‡ 0.1-0.4ï¼‰
for i in range(num_nodes):
    for j in range(i + 1, num_nodes):
        if (i, j) not in star_edges and (j, i) not in star_edges:
            weight = round(random.uniform(0.1, 0.4), 2)
            edges.append({"from": i, "to": j, "weight": weight})

print("edges:", edges)
```

---

## æ€§èƒ½ä¼˜åŒ–

### æ¸²æŸ“æ€§èƒ½

**å½“å‰å®ç°ï¼š**
- 12 ä¸ªèŠ‚ç‚¹ + 66 æ¡è¾¹
- æ¯æ¬¡æ»‘å—ç§»åŠ¨éƒ½**å®Œå…¨é‡ç»˜**
- æ¸²æŸ“æ—¶é—´ï¼š< 5msï¼ˆè¿œä½äº 100ms è¦æ±‚ï¼‰

**ä¸ºä»€ä¹ˆä¸éœ€è¦ä¼˜åŒ–ï¼š**
- æ•°æ®é‡å¤ªå°ï¼ˆ66 æ¡è¾¹ï¼‰
- Canvas `clearRect()` + é‡ç»˜æ¯” "è®¡ç®—å¢é‡æ›´æ–°" æ›´ç®€å•
- ç¬¦åˆ Linus å“²å­¦ï¼š**è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº**

**æœªæ¥å¦‚æœéœ€è¦ï¼ˆ1000+ è¾¹ï¼‰ï¼š**
- ä½¿ç”¨ç¦»å± Canvas ç¼“å­˜èŠ‚ç‚¹
- åªé‡ç»˜å˜åŒ–çš„è¾¹ï¼ˆå¢é‡æ›´æ–°ï¼‰

---

## é”™è¯¯å¤„ç†

### è¾¹ç•Œæƒ…å†µå¤„ç†

| åœºæ™¯ | å¤„ç†ç­–ç•¥ |
|-----|---------|
| é˜ˆå€¼ = 0 | æ˜¾ç¤ºæ‰€æœ‰è¾¹ï¼ˆå®Œå…¨å›¾ï¼‰ |
| é˜ˆå€¼ = 1 | åªæ˜¾ç¤ºæƒé‡ = 1.0 çš„è¾¹ |
| èŠ‚ç‚¹æ•° < 2 | ä¸ç”»è¾¹ï¼Œåªç”»èŠ‚ç‚¹ |
| è¾¹çš„ `from` æˆ– `to` è¶…å‡ºèŠ‚ç‚¹èŒƒå›´ | JavaScript ä¼šè¿”å› `undefined`ï¼Œ`drawLine()` é™é»˜å¤±è´¥ |

**MVP é˜¶æ®µç­–ç•¥ï¼š**
- âŒ ä¸åšå¤æ‚çš„é”™è¯¯æ£€æŸ¥ï¼ˆæ•°æ®æ˜¯æ‰‹åŠ¨ç”Ÿæˆçš„ï¼Œä¿è¯æ­£ç¡®æ€§ï¼‰
- âœ… å¦‚æœæœªæ¥æ”¯æŒç”¨æˆ·ä¸Šä¼ æ•°æ®ï¼Œå†åŠ éªŒè¯é€»è¾‘

---

## æµ‹è¯•ç­–ç•¥

### æ‰‹åŠ¨æµ‹è¯•ï¼ˆMVP é˜¶æ®µï¼‰

#### æµ‹è¯•1ï¼šåŸºæœ¬æ¸²æŸ“
**æ­¥éª¤ï¼š**
1. åŒå‡» `demos/structure-energy/index.html`
2. è§‚å¯Ÿç”»å¸ƒæ˜¯å¦æ˜¾ç¤º 12 ä¸ªèŠ‚ç‚¹
3. è§‚å¯Ÿæ˜¯å¦æ˜¾ç¤ºéƒ¨åˆ†è¾¹

**éªŒæ”¶ï¼š**
- âœ… 12 ä¸ªèŠ‚ç‚¹å‡åŒ€åˆ†å¸ƒåœ¨åœ†å‘¨ä¸Š
- âœ… é»˜è®¤é˜ˆå€¼ 0.5 ä¸‹ï¼Œæ˜¾ç¤ºéƒ¨åˆ†è¾¹

---

#### æµ‹è¯•2ï¼šæ»‘å—äº¤äº’
**æ­¥éª¤ï¼š**
1. æ‹–åŠ¨æ»‘å—åˆ°æœ€å·¦ï¼ˆ0ï¼‰
2. è§‚å¯Ÿç”»å¸ƒå˜åŒ–
3. æ‹–åŠ¨æ»‘å—åˆ°æœ€å³ï¼ˆ1ï¼‰
4. è§‚å¯Ÿç”»å¸ƒå˜åŒ–

**éªŒæ”¶ï¼š**
- âœ… é˜ˆå€¼ = 0ï¼šæ˜¾ç¤ºæ‰€æœ‰ 66 æ¡è¾¹ï¼ˆæ··æ²ŒçŠ¶æ€ï¼‰
- âœ… é˜ˆå€¼ = 1ï¼šåªæ˜¾ç¤ºå°‘é‡å¼ºè¿æ¥ï¼ˆæ¸…æ™°çš„å…­è§’æ˜Ÿï¼‰
- âœ… æ»‘å—å“åº”æµç•…ï¼Œæ— å¡é¡¿

---

#### æµ‹è¯•3ï¼šå…­è§’æ˜Ÿæ˜¾ç°
**æ­¥éª¤ï¼š**
1. å°†æ»‘å—è°ƒæ•´åˆ° 0.75 å·¦å³
2. è§‚å¯Ÿæ˜¯å¦æµ®ç°å…­è§’æ˜Ÿå›¾å½¢

**éªŒæ”¶ï¼š**
- âœ… æ˜¾ç¤ºæ¸…æ™°çš„å…­è§’æ˜Ÿï¼ˆå¤–ç¯ + å†…éƒ¨äº¤å‰çº¿ï¼‰
- âœ… å…¶ä½™å¼±è¿æ¥ä¸æ˜¾ç¤º

---

### æ€§èƒ½æµ‹è¯•

#### æµ‹è¯•4ï¼šæ»‘å—å“åº”é€Ÿåº¦
**æ­¥éª¤ï¼š**
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Performance æ ‡ç­¾
2. å½•åˆ¶æ€§èƒ½
3. å¿«é€Ÿæ‹–åŠ¨æ»‘å—
4. åœæ­¢å½•åˆ¶

**éªŒæ”¶ï¼š**
- âœ… æ¯æ¬¡é‡ç»˜æ—¶é—´ < 10ms
- âœ… å¸§ç‡ä¿æŒåœ¨ 60 FPS

---

## ä»£ç è¡Œæ•°ç»Ÿè®¡

**index.htmlï¼š**
- HTML ç»“æ„ï¼š~20 è¡Œ
- CSS æ ·å¼ï¼š~30 è¡Œ
- JavaScript é€»è¾‘ï¼š~60 è¡Œ
- **æ€»è®¡ï¼š~110 è¡Œ**

**data.jsï¼š**
- èŠ‚ç‚¹æ•°æ®ï¼š~15 è¡Œ
- è¾¹æ•°æ®ï¼š~70 è¡Œï¼ˆ66 æ¡è¾¹ï¼‰
- **æ€»è®¡ï¼š~85 è¡Œ**

**é¡¹ç›®æ€»è®¡ï¼š~195 è¡Œ**ï¼ˆç¬¦åˆ < 200 è¡Œçš„è¦æ±‚ï¼‰

---

## æœªæ¥æ‰©å±•è®¾è®¡

### æ‰©å±•ç‚¹1ï¼šå¤šç§é¢„è®¾å›¾å½¢

**æ•°æ®ç»“æ„æ‰©å±•ï¼š**
```javascript
const PRESETS = {
  hexagram: {  // å½“å‰çš„å…­è§’æ˜Ÿ
    nodes: [...],
    edges: [...]
  },
  pentagon: {  // äº”è§’æ˜Ÿ
    nodes: [...],
    edges: [...]
  },
  grid: {  // ç½‘æ ¼
    nodes: [...],
    edges: [...]
  }
};

// ç”¨æˆ·é€šè¿‡ä¸‹æ‹‰èœå•åˆ‡æ¢
let currentPreset = 'hexagram';
```

**å®ç°æˆæœ¬ï¼š**
- æ–°å¢ä»£ç ï¼š~30 è¡Œï¼ˆä¸‹æ‹‰èœå• + åˆ‡æ¢é€»è¾‘ï¼‰
- æ•°æ®æ–‡ä»¶ï¼šæ¯ä¸ªé¢„è®¾ ~80 è¡Œ

---

### æ‰©å±•ç‚¹2ï¼šåŠ¨ç”»è¿‡æ¸¡

**å®ç°æ–¹å¼ï¼š**
```javascript
function animateThreshold(oldValue, newValue, duration = 300) {
  const startTime = Date.now();

  function step() {
    const elapsed = Date.now() - startTime;
    const progress = Math.min(elapsed / duration, 1);
    const currentThreshold = oldValue + (newValue - oldValue) * progress;

    render(currentThreshold);

    if (progress < 1) {
      requestAnimationFrame(step);
    }
  }

  requestAnimationFrame(step);
}
```

**å®ç°æˆæœ¬ï¼š**
- æ–°å¢ä»£ç ï¼š~20 è¡Œ
- æ€§èƒ½å½±å“ï¼šè½»å¾®ï¼ˆéœ€è¦æµ‹è¯•ï¼‰

---

### æ‰©å±•ç‚¹3ï¼šèŠ‚ç‚¹æ‹–åŠ¨

**å®ç°æ–¹å¼ï¼š**
```javascript
canvas.addEventListener('mousedown', (e) => {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  // æŸ¥æ‰¾ç‚¹å‡»çš„èŠ‚ç‚¹
  const clickedNode = GRAPH.nodes.find(n =>
    Math.hypot(n.x - x, n.y - y) < 10
  );

  if (clickedNode) {
    // å¼€å§‹æ‹–åŠ¨
    isDragging = true;
    draggedNode = clickedNode;
  }
});

canvas.addEventListener('mousemove', (e) => {
  if (isDragging) {
    const rect = canvas.getBoundingClientRect();
    draggedNode.x = e.clientX - rect.left;
    draggedNode.y = e.clientY - rect.top;
    render(threshold);
  }
});
```

**å®ç°æˆæœ¬ï¼š**
- æ–°å¢ä»£ç ï¼š~40 è¡Œ
- ç ´åæ€§ï¼šé›¶ï¼ˆåªæ˜¯ä¿®æ”¹ `GRAPH.nodes` çš„åæ ‡ï¼‰

---

## å‚è€ƒèµ„æ–™

- éœ€æ±‚æ–‡æ¡£ï¼š[requirements.md](requirements.md)
- æ¦‚å¿µæ¥æºï¼š`F:\MarssBrain\Resources\ä¿¡æ¯æ™¶ç§\æ¦‚å¿µ - ç»“æ„èƒ½.md`
- HTML5 Canvas API: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API
