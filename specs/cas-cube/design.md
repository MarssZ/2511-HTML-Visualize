# CAS åˆ†å½¢äº¤äº’ç½‘ç»œï¼šè®¾è®¡æ–‡æ¡£

## 1. æ¶æ„æ¦‚è§ˆ

### 1.1 ç³»ç»Ÿåˆ†å±‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·äº¤äº’å±‚ (Event Handlers)            â”‚  â† æ‚¬åœã€ç‚¹å‡»æŒ‰é’®ã€å±‚çº§åˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ¸²æŸ“å±‚ (Dual Canvas Rendering)         â”‚  â† ä¸»è§†å›¾ + è¾…åŠ©è§†å›¾
â”‚   â”œâ”€ 2Dä¸»è§†å›¾ (700x700)                  â”‚
â”‚   â””â”€ 3Dè¾…åŠ©è§†å›¾ (200x200)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®å±‚ (data.js)                       â”‚  â† ä¸‰ä¸ªç»´åº¦ Ã— ä¸‰ä¸ªå±‚çº§
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒæ¨¡å—
1. **2Dåˆ†å½¢ç½‘ç»œæ¸²æŸ“å™¨**ï¼šä¸»è§†å›¾ï¼Œå±•ç¤ºæ ¸å¿ƒä»£ç†åŠä¸‰ç§è¿æ¥
2. **æ‰°åŠ¨ä¼ æ’­å¼•æ“**ï¼šæ³¢çº¹åŠ¨ç”»ï¼Œæ¼”ç¤ºåŒæ—¶ä¼ æ’­
3. **åˆ†å½¢å±‚çº§æ§åˆ¶å™¨**ï¼šåˆ‡æ¢ä¸ªäºº/å›¢é˜Ÿ/å…¬å¸
4. **3Dè¾…åŠ©è§†å›¾**ï¼šæ—‹è½¬ç«‹æ–¹ä½“ï¼Œä¿ç•™éšå–»
5. **æ‚¬åœæ£€æµ‹å™¨**ï¼šåˆ¤æ–­é¼ æ ‡ä½ç½®ï¼Œè§¦å‘é«˜äº®

---

## 2. æ•°æ®ç»“æ„è®¾è®¡

### 2.1 æ ¸å¿ƒæ•°æ®ï¼ˆdata.jsï¼‰

```javascript
const CAS_NETWORK = {
  // ä¸‰ç§äº¤äº’ç»´åº¦å®šä¹‰
  dimensions: [
    {
      id: 'intra',              // å”¯ä¸€æ ‡è¯†
      name: 'ç³»ç»Ÿå†…/åŒå±‚æ¬¡',     // å®Œæ•´åç§°
      color: '#a78bfa',         // ç´«è‰²
      radius: 120,              // å†…åœˆåŠå¾„ï¼ˆæåæ ‡ï¼‰
      details: '...'            // è¯¦ç»†è¯´æ˜
    },
    {
      id: 'cross',              // è·¨ç³»ç»Ÿ
      color: '#fb7185',         // ç²‰è‰²
      radius: 220               // ä¸­åœˆåŠå¾„
    },
    {
      id: 'level',              // è·¨å±‚çº§
      color: '#38bdf8',         // è“è‰²
      verticalOffset: 150       // å‚ç›´åç§»é‡
    }
  ],

  // åˆ†å½¢å±‚çº§ï¼ˆä¸‰ä¸ªå°ºåº¦ï¼‰
  fractalLevels: [
    {
      id: 'individual',         // ä¸ªäºº
      scale: 1.0,
      coreAgent: { label: 'ä½ ï¼ˆå‘˜å·¥ï¼‰', role: 'äº§å“ç»ç†' },
      agents: {
        intra: [                // ç³»ç»Ÿå†…ï¼š6ä¸ªåŒäº‹
          { label: 'ç ”å‘åŒäº‹', angle: 0 },
          { label: 'è®¾è®¡åŒäº‹', angle: 60 },
          // ... æ¯60åº¦ä¸€ä¸ªï¼Œå›´æˆä¸€åœˆ
        ],
        cross: [                // è·¨ç³»ç»Ÿï¼š4ä¸ªå¤–éƒ¨ä»£ç†
          { label: 'å®¢æˆ·A', angle: 30 },
          { label: 'ä¾›åº”å•†', angle: 110 },
          // ... åˆ†æ•£åœ¨ä¸­åœˆ
        ],
        level: [                // è·¨å±‚çº§ï¼š4ä¸ªä¸Šä¸‹çº§
          { label: 'ç›´å±è€æ¿', position: 'above', offset: 0 },
          { label: 'ä¸‹å±A', position: 'below', offset: 0 }
        ]
      }
    },
    // team å’Œ company å±‚çº§ç»“æ„ç±»ä¼¼
  ],

  // æ‰°åŠ¨ä¼ æ’­å‚æ•°
  ripple: {
    speed: 0.05,
    maxRadius: 300,
    colors: {
      intra: 'rgba(167, 139, 250, 0.6)',
      cross: 'rgba(251, 113, 133, 0.6)',
      level: 'rgba(56, 189, 248, 0.6)'
    }
  }
};
```

### 2.2 è®¾è®¡åŸåˆ™
- **"åªå¢ä¸æ”¹"**ï¼šæœªæ¥è¦æ·»åŠ æ–°å±‚çº§ï¼Œåªéœ€æ‰©å±•`fractalLevels`æ•°ç»„
- **æ•°æ®é©±åŠ¨æ¸²æŸ“**ï¼šæ‰€æœ‰èŠ‚ç‚¹ä½ç½®ç”±æ•°æ®è®¡ç®—ï¼Œæ— ç¡¬ç¼–ç åæ ‡
- **é¢œè‰²ä¸€è‡´æ€§**ï¼šä¸‰ä¸ªç»´åº¦çš„é¢œè‰²åœ¨æ•´ä¸ªç³»ç»Ÿä¸­ä¿æŒç»Ÿä¸€

---

## 3. æ ¸å¿ƒç®—æ³•

### 3.1 2Då¸ƒå±€ç®—æ³•

**ç³»ç»Ÿå†…/è·¨ç³»ç»Ÿï¼šæåæ ‡å¸ƒå±€**

```javascript
// å°†è§’åº¦å’ŒåŠå¾„è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡
function polarToCartesian(angle, radius, centerX, centerY) {
  const angleRad = (angle * Math.PI) / 180;
  return {
    x: centerX + Math.cos(angleRad) * radius,
    y: centerY + Math.sin(angleRad) * radius
  };
}

// ç»˜åˆ¶ç³»ç»Ÿå†…èŠ‚ç‚¹ï¼ˆå†…åœˆï¼Œ6ä¸ªåŒäº‹ï¼‰
const intraAgents = level.agents.intra;
intraAgents.forEach(agent => {
  const pos = polarToCartesian(agent.angle, 120, centerX, centerY);
  drawNode(pos.x, pos.y, agent.label, '#a78bfa');
});

// ç»˜åˆ¶è·¨ç³»ç»ŸèŠ‚ç‚¹ï¼ˆä¸­åœˆï¼Œ4ä¸ªå¤–éƒ¨ä»£ç†ï¼‰
const crossAgents = level.agents.cross;
crossAgents.forEach(agent => {
  const pos = polarToCartesian(agent.angle, 220, centerX, centerY);
  drawNode(pos.x, pos.y, agent.label, '#fb7185');
});
```

**è·¨å±‚çº§ï¼šå‚ç›´å¸ƒå±€**

```javascript
// ä¸Šä¸‹çº§èŠ‚ç‚¹å‚ç›´æ’åˆ—
const levelAgents = level.agents.level;
levelAgents.forEach(agent => {
  const y = agent.position === 'above'
    ? centerY - 150 - agent.offset  // è€æ¿åœ¨ä¸Šæ–¹
    : centerY + 150 + agent.offset; // ä¸‹å±åœ¨ä¸‹æ–¹

  drawNode(centerX, y, agent.label, '#38bdf8');
});
```

**æŠ€æœ¯å†³ç­–ï¼š**
- âœ… **ä¸ºä»€ä¹ˆç”¨æåæ ‡ï¼Ÿ**
  - è‡ªç„¶è¡¨è¾¾"å›´ç»•æ ¸å¿ƒ"çš„æ¦‚å¿µ
  - è§’åº¦å‡åˆ†ä¿è¯è§†è§‰å¹³è¡¡
  - åŠå¾„åŒºåˆ†å†…å¤–å±‚çº§

- âœ… **ä¸ºä»€ä¹ˆè·¨å±‚çº§ç”¨å‚ç›´è½´ï¼Ÿ**
  - ç¬¦åˆ"ä¸Šä¸‹çº§"çš„ç©ºé—´éšå–»
  - ä¸æ°´å¹³åœ†åœˆå½¢æˆè§†è§‰å¯¹æ¯”
  - è“è‰²å‚ç›´çº¿ç©¿è¿‡ä¸­å¿ƒï¼Œå¼ºè°ƒ"ç©¿é€"æ„Ÿ

---

### 3.2 æ‰°åŠ¨ä¼ æ’­ç®—æ³•

**æ ¸å¿ƒæ€æƒ³ï¼šä¸‰ä¸ªç‹¬ç«‹æ³¢çº¹åŒæ—¶æ‰©æ•£**

```javascript
let ripples = [
  { dimension: 'intra', radius: 0 },
  { dimension: 'cross', radius: 0 },
  { dimension: 'level', radius: 0 }
];

function renderRipples() {
  ripples = ripples.filter(r => r.radius < maxRadius);

  ripples.forEach(r => {
    const color = CAS_NETWORK.ripple.colors[r.dimension];
    const opacity = 1 - (r.radius / maxRadius);  // æ¸å˜é€æ˜
    const lineWidth = 3 - (r.radius / maxRadius) * 2;  // æ¸ç»†

    ctx.strokeStyle = color;
    ctx.lineWidth = lineWidth;
    ctx.globalAlpha = opacity;
    ctx.beginPath();
    ctx.arc(centerX, centerY, r.radius, 0, Math.PI * 2);
    ctx.stroke();

    r.radius += speed * 50;  // æ‰©æ•£
  });

  ctx.globalAlpha = 1;
}
```

**æŠ€æœ¯å†³ç­–ï¼š**
- âœ… **ä¸ºä»€ä¹ˆç”¨åŒå¿ƒåœ†ï¼Ÿ**
  - æœ€ç›´è§‚çš„"ä¼ æ’­"è§†è§‰éšå–»
  - ä¸‰ä¸ªåœ†åŒæ—¶æ‰©æ•£ï¼Œæ¼”ç¤º"åŒæ—¶æ€§"

- âœ… **ä¸ºä»€ä¹ˆæ¸å˜é€æ˜ + æ¸ç»†ï¼Ÿ**
  - æ¨¡æ‹Ÿç‰©ç†æ³¢çº¹çš„è¡°å‡
  - é¿å…è§†è§‰æ··ä¹±ï¼ˆè¾¹ç•Œå¤„æ¸…æ™°æ¶ˆå¤±ï¼‰

---

### 3.3 æ‚¬åœæ£€æµ‹ç®—æ³•

**é—®é¢˜ï¼šå¦‚ä½•åˆ¤æ–­é¼ æ ‡æ‚¬åœåœ¨å“ªä¸ªç»´åº¦ï¼Ÿ**

**æ–¹æ¡ˆï¼šåŸºäºè·ç¦»çš„åœ†ç¯æ£€æµ‹**

```javascript
function detectHoveredDimension(mouseX, mouseY, centerX, centerY) {
  const distance = Math.hypot(mouseX - centerX, mouseY - centerY);

  // ç³»ç»Ÿå†…ï¼šè·ç¦» < 140
  if (distance < 140) {
    return 'intra';
  }

  // è·¨ç³»ç»Ÿï¼š140 < è·ç¦» < 240
  if (distance >= 140 && distance < 240) {
    return 'cross';
  }

  // è·¨å±‚çº§ï¼šå‚ç›´æ–¹å‘ï¼Œè·ç¦»ä¸­å¿ƒ > 80
  if (Math.abs(mouseX - centerX) < 30 && Math.abs(mouseY - centerY) > 80) {
    return 'level';
  }

  return null;
}
```

**æŠ€æœ¯å†³ç­–ï¼š**
- âœ… **ä¸ºä»€ä¹ˆç”¨åœ†ç¯æ£€æµ‹ï¼Ÿ**
  - ç³»ç»Ÿå†…/è·¨ç³»ç»Ÿæ˜¯åœ†ç¯åˆ†å¸ƒï¼Œè‡ªç„¶ç”¨å¾„å‘è·ç¦»
  - è·¨å±‚çº§æ˜¯å‚ç›´è½´ï¼Œç”¨Xè·ç¦»åˆ¤æ–­

- âœ… **é˜ˆå€¼é€‰æ‹©**ï¼š
  - å†…åœˆåŠå¾„120ï¼Œé˜ˆå€¼140ï¼ˆ+20å®¹å·®ï¼‰
  - ä¸­åœˆåŠå¾„220ï¼Œé˜ˆå€¼240ï¼ˆ+20å®¹å·®ï¼‰
  - å‚ç›´è½´Xå®¹å·®30ï¼ˆæ˜“äºæ‚¬åœï¼‰

---

### 3.4 3Dè¾…åŠ©è§†å›¾ï¼ˆç®€åŒ–ç‰ˆï¼‰

**é—®é¢˜ï¼šå¦‚ä½•åœ¨200x200çš„å°çª—ä¸­æ¸²æŸ“æ—‹è½¬ç«‹æ–¹ä½“ï¼Ÿ**

**æ–¹æ¡ˆï¼šæ¬§æ‹‰è§’æ—‹è½¬ + ç­‰è·æŠ•å½±**

```javascript
let cubeRotationY = Math.PI / 4;  // åˆå§‹è§’åº¦45åº¦

function project3D(x, y, z) {
  // 1. ä¸­å¿ƒåŒ–
  const cx = x - 0.5, cy = y - 0.5, cz = z - 0.5;

  // 2. ç»•Yè½´æ—‹è½¬ï¼ˆåªç”¨ä¸€ä¸ªè½´ï¼Œç®€åŒ–è®¡ç®—ï¼‰
  const cosY = Math.cos(cubeRotationY);
  const sinY = Math.sin(cubeRotationY);
  const x2 = cx * cosY + cz * sinY;
  const z2 = -cx * sinY + cz * cosY;

  // 3. ç­‰è·æŠ•å½±
  const scale = 60;
  return {
    x: centerX + x2 * scale,
    y: centerY - cy * scale,
    z: z2  // ä¿ç•™æ·±åº¦ç”¨äºé®æŒ¡åˆ¤æ–­
  };
}

// è‡ªåŠ¨æ—‹è½¬
function animate() {
  cubeRotationY += 0.01;  // æ¯å¸§æ—‹è½¬0.01å¼§åº¦
  renderCubeView();
  requestAnimationFrame(animate);
}
```

**æŠ€æœ¯å†³ç­–ï¼š**
- âœ… **ä¸ºä»€ä¹ˆåªç»•Yè½´æ—‹è½¬ï¼Ÿ**
  - è¾…åŠ©è§†å›¾å¾ˆå°ï¼Œå¤æ‚æ—‹è½¬çœ‹ä¸æ¸…
  - å•è½´æ—‹è½¬è¶³ä»¥å±•ç¤º3Dç«‹æ–¹ä½“

- âœ… **ä¸ºä»€ä¹ˆç”¨requestAnimationFrameï¼Ÿ**
  - ä¸æµè§ˆå™¨åˆ·æ–°ç‡åŒæ­¥ï¼ˆ60fpsï¼‰
  - æ¯”setIntervalæ›´æµç•…

---

## 4. æ¸²æŸ“æµç¨‹

### 4.1 ä¸»æ¸²æŸ“å‡½æ•°

```javascript
function render() {
  renderMainView();   // 2Dä¸»è§†å›¾
  renderCubeView();   // 3Dè¾…åŠ©è§†å›¾
  requestAnimationFrame(render);  // å¾ªç¯
}

function renderMainView() {
  ctx.clearRect(0, 0, width, height);

  // 1. ç»˜åˆ¶æ‰°åŠ¨æ³¢çº¹ï¼ˆæœ€åº•å±‚ï¼‰
  renderRipples();

  // 2. ç»˜åˆ¶ä¸‰ä¸ªç»´åº¦çš„è¿æ¥ï¼ˆä¸­é—´å±‚ï¼‰
  dimensions.forEach(dim => {
    const isHovered = hoveredDimension === dim.id;
    const opacity = hoveredDimension && !isHovered ? 0.3 : 1;
    ctx.globalAlpha = opacity;

    drawConnections(dim, isHovered);
    drawNodes(dim, isHovered);
  });

  // 3. ç»˜åˆ¶æ ¸å¿ƒä»£ç†ï¼ˆæœ€ä¸Šå±‚ï¼‰
  drawCoreAgent();
}
```

### 4.2 ç»˜åˆ¶é¡ºåºï¼ˆåˆ†å±‚æ¸²æŸ“ï¼‰
1. **æ‰°åŠ¨æ³¢çº¹**ï¼ˆæœ€åº•å±‚ï¼ŒåŠé€æ˜ï¼‰
2. **ä¸‰ä¸ªç»´åº¦çš„è¿æ¥å’ŒèŠ‚ç‚¹**ï¼ˆä¸­é—´å±‚ï¼‰
   - ç³»ç»Ÿå†…ï¼ˆç´«è‰²ï¼‰
   - è·¨ç³»ç»Ÿï¼ˆç²‰è‰²ï¼‰
   - è·¨å±‚çº§ï¼ˆè“è‰²ï¼‰
3. **æ ¸å¿ƒä»£ç†**ï¼ˆæœ€ä¸Šå±‚ï¼Œé‡‘è‰²ï¼Œç¡®ä¿å§‹ç»ˆå¯è§ï¼‰

**åŸå› ï¼š**
- æ ¸å¿ƒä»£ç†æ˜¯è§†è§‰ç„¦ç‚¹ï¼Œå¿…é¡»åœ¨æœ€ä¸Šå±‚
- æ‰°åŠ¨æ³¢çº¹åœ¨åº•å±‚ï¼Œä¸é®æŒ¡èŠ‚ç‚¹
- æ‚¬åœæ—¶ï¼Œæœªæ‚¬åœçš„ç»´åº¦å˜åŠé€æ˜ï¼Œä¿æŒå±‚æ¬¡æ„Ÿ

---

## 5. äº¤äº’è®¾è®¡

### 5.1 åˆ†å½¢å±‚çº§åˆ‡æ¢

**çŠ¶æ€å˜é‡ï¼š**
```javascript
let currentLevelIndex = 0;  // 0=ä¸ªäºº, 1=å›¢é˜Ÿ, 2=å…¬å¸
```

**åˆ‡æ¢é€»è¾‘ï¼š**
```javascript
function switchLevel(index) {
  currentLevelIndex = index;

  // 1. æ›´æ–°é¡¶éƒ¨æç¤ºæ–‡æœ¬
  const level = CAS_NETWORK.fractalLevels[index];
  document.getElementById('currentLevel').textContent =
    `å½“å‰å±‚çº§ï¼š${level.name} â€” ${level.description}`;

  // 2. é‡æ–°ç»˜åˆ¶ï¼ˆæ•°æ®é©±åŠ¨ï¼Œè‡ªåŠ¨è¯»å–æ–°å±‚çº§çš„agentsï¼‰
  render();
}
```

**æŠ€æœ¯å†³ç­–ï¼š**
- âœ… **ä¸ºä»€ä¹ˆä¸åšåŠ¨ç”»è¿‡æ¸¡ï¼Ÿ**
  - èŠ‚ç‚¹æ•°é‡ä¸åŒï¼ˆ6ä¸ªåŒäº‹ vs 5ä¸ªå›¢é˜Ÿï¼‰ï¼Œéš¾ä»¥æ’å€¼
  - ç›´æ¥åˆ‡æ¢æ›´æ¸…æ™°ï¼Œé¿å…æ··æ·†

---

### 5.2 æ‚¬åœé«˜äº®åé¦ˆ

**è§†è§‰å˜åŒ–ï¼š**
- æ‚¬åœç»´åº¦ï¼šè¿çº¿åŠ ç²—ï¼ˆ2px â†’ 3pxï¼‰
- å…¶ä»–ç»´åº¦ï¼šé€æ˜åº¦é™ä½ï¼ˆ1.0 â†’ 0.3ï¼‰
- 3Dè¾…åŠ©è§†å›¾ï¼šå¯¹åº”è½´é«˜äº®ï¼ˆ2px â†’ 3pxï¼‰

**ä»£ç å®ç°ï¼š**
```javascript
const isHovered = hoveredDimension === dim.id;
const opacity = hoveredDimension && !isHovered ? 0.3 : 1;
const lineWidth = isHovered ? 3 : 2;

ctx.globalAlpha = opacity;
ctx.lineWidth = lineWidth;
```

---

## 6. æ€§èƒ½ä¼˜åŒ–

### 6.1 å·²å®ç°çš„ä¼˜åŒ–
1. **requestAnimationFrame**ï¼šä¸æµè§ˆå™¨åˆ·æ–°ç‡åŒæ­¥ï¼ˆ60fpsï¼‰
2. **æœ€å°é‡ç»˜**ï¼šåªåœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–°ï¼ˆæ‚¬åœã€åˆ‡æ¢å±‚çº§ï¼‰
3. **ç®€åŒ–3DæŠ•å½±**ï¼šè¾…åŠ©è§†å›¾åªç”¨å•è½´æ—‹è½¬
4. **æ³¢çº¹è¿‡æ»¤**ï¼šè¶…å‡ºè¾¹ç•Œçš„æ³¢çº¹è‡ªåŠ¨ç§»é™¤

### 6.2 ä»£ç å¤æ‚åº¦
```
æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œn = èŠ‚ç‚¹æ•°ï¼ˆæœ€å¤š14ä¸ªï¼‰
ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œå›ºå®šå¤§å°çš„æ•°æ®ç»“æ„
```

---

## 7. æŠ€æœ¯å†³ç­–è®°å½•

### 7.1 ä¸ºä»€ä¹ˆä¸ç”¨Three.jsï¼Ÿ

| æ–¹æ¡ˆ         | ä¼˜ç‚¹                     | ç¼ºç‚¹                       | ç»“è®º |
|--------------|--------------------------|----------------------------|------|
| Three.js     | 3DåŠŸèƒ½å¼ºå¤§ã€å…‰å½±æ•ˆæœå¥½   | 300KB+ã€ä¸»è§†å›¾æ˜¯2D         | âŒ   |
| åŸç”ŸCanvas   | é›¶ä¾èµ–ã€å®Œå…¨æ§åˆ¶         | éœ€è¦æ‰‹å†™3DæŠ•å½±ï¼ˆä½†åªéœ€30è¡Œï¼‰| âœ…   |

**æœ€ç»ˆé€‰æ‹©**ï¼šåŸç”ŸCanvas
- ä¸»è§†å›¾æ˜¯2Dç½‘ç»œï¼Œä¸éœ€è¦3Dåº“
- è¾…åŠ©è§†å›¾çš„3Dç«‹æ–¹ä½“ç”¨30è¡Œä»£ç æ‰‹å†™æŠ•å½±
- ç¬¦åˆé¡¹ç›®"é›¶ä¾èµ–"åŸåˆ™

---

### 7.2 ä¸ºä»€ä¹ˆ2Dä¸»è§†å›¾ + 3Dè¾…åŠ©è§†å›¾ï¼Ÿ

| æ–¹æ¡ˆ         | ä¼˜ç‚¹                     | ç¼ºç‚¹                       | ç»“è®º |
|--------------|--------------------------|----------------------------|------|
| çº¯3DåµŒå¥—çƒä½“ | è§†è§‰éœ‡æ’¼                 | é®æŒ¡ä¸¥é‡ã€éš¾ä»¥ç†è§£         | âŒ   |
| çº¯2Dç½‘ç»œ     | æ¸…æ™°æ˜“æ‡‚                 | ä¸¢å¤±"ç«‹æ–¹ä½“"éšå–»           | ğŸ¤”   |
| æ··åˆæ–¹æ¡ˆ     | ä¸»è§†å›¾æ¸…æ™° + ä¿ç•™éšå–»     | éœ€è¦ç»´æŠ¤ä¸¤ä¸ªCanvas         | âœ…   |

**æœ€ç»ˆé€‰æ‹©**ï¼šæ··åˆæ–¹æ¡ˆ
- 2Dä¸»è§†å›¾ï¼šå±•ç¤º"ä¸‰ç§äº¤äº’åŒæ—¶å­˜åœ¨"ï¼ˆæ ¸å¿ƒæ¦‚å¿µï¼‰
- 3Dè¾…åŠ©è§†å›¾ï¼šä¿ç•™åŸæ–‡çš„"ç«‹æ–¹ä½“"éšå–»
- ä¸¤è€…è”åŠ¨ï¼ˆæ‚¬åœé«˜äº®ï¼‰ï¼Œå¢å¼ºè®¤çŸ¥

---

### 7.3 ä¸ºä»€ä¹ˆç”¨æåæ ‡è€Œéç½‘æ ¼å¸ƒå±€ï¼Ÿ

**ç†ç”±ï¼š**
1. "å›´ç»•æ ¸å¿ƒ"çš„ç©ºé—´éšå–»æ›´ç›´è§‚
2. èŠ‚ç‚¹æ•°é‡ä¸å›ºå®šï¼ˆåŒäº‹6ä¸ªã€å¤–éƒ¨4ä¸ªï¼‰ï¼Œæåæ ‡è‡ªé€‚åº”
3. å¾„å‘å¸ƒå±€å¤©ç„¶å½¢æˆ"å±‚æ¬¡æ„Ÿ"ï¼ˆå†…åœˆã€ä¸­åœˆï¼‰

---

## 8. æ•°æ®æµå›¾

```
ç”¨æˆ·ç‚¹å‡»"å›¢é˜Ÿ"æŒ‰é’®
    â†“
æ›´æ–° currentLevelIndex = 1
    â†“
render() è¯»å– fractalLevels[1]
    â†“
ç»˜åˆ¶æ ¸å¿ƒä»£ç†ï¼š"ä½ çš„å›¢é˜Ÿ"
    â†“
ç»˜åˆ¶ä¸‰åœˆèŠ‚ç‚¹ï¼šç ”å‘å›¢é˜Ÿã€è®¾è®¡å›¢é˜Ÿ...
    â†“
ç”¨æˆ·çœ‹åˆ°å›¢é˜Ÿå±‚çº§çš„äº¤äº’ç½‘ç»œ
```

```
ç”¨æˆ·ç‚¹å‡»"æ’­æ”¾æ‰°åŠ¨"
    â†“
ripples = [{ dimension: 'intra', radius: 0 }, ...]
    â†“
render() å¾ªç¯è°ƒç”¨ renderRipples()
    â†“
æ¯å¸§ radius += speed * 50
    â†“
ç»˜åˆ¶ä¸‰åœˆæ³¢çº¹ï¼Œé€æ¸æ‰©æ•£
    â†“
radius >= maxRadius æ—¶ï¼Œä»æ•°ç»„ç§»é™¤
```

---

## 9. å…³é”®ä»£ç ç‰‡æ®µ

### 9.1 ç»˜åˆ¶èŠ‚ç‚¹ï¼ˆç»Ÿä¸€å‡½æ•°ï¼‰

```javascript
function drawNode(x, y, label, color, radius, isCore = false) {
  // ç»˜åˆ¶åœ†å½¢
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.arc(x, y, radius, 0, Math.PI * 2);
  ctx.fill();

  // ç»˜åˆ¶è¾¹æ¡†
  ctx.strokeStyle = '#fff';
  ctx.lineWidth = isCore ? 3 : 2;
  ctx.stroke();

  // ç»˜åˆ¶æ ‡ç­¾
  ctx.fillStyle = '#fff';
  ctx.font = isCore ? 'bold 14px sans-serif' : '12px sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText(label, x, y - radius - 8);
}
```

**è®¾è®¡åŸåˆ™ï¼š**
- å•ä¸€å‡½æ•°å¤„ç†æ‰€æœ‰èŠ‚ç‚¹ï¼ˆæ ¸å¿ƒä»£ç†ã€åŒäº‹ã€å®¢æˆ·ã€è€æ¿ï¼‰
- ç”¨`isCore`å‚æ•°åŒºåˆ†æ ¸å¿ƒä»£ç†ï¼ˆæ›´å¤§ã€æ›´ç²—è¾¹æ¡†ï¼‰
- é¿å…ä»£ç é‡å¤

---

### 9.2 3Dç«‹æ–¹ä½“è¾¹çš„é®æŒ¡å¤„ç†

```javascript
// ç»˜åˆ¶ç«‹æ–¹ä½“è¾¹
edges.forEach(([i, j]) => {
  const p1 = vertices[i];
  const p2 = vertices[j];
  const avgZ = (p1.z + p2.z) / 2;  // è¾¹çš„å¹³å‡æ·±åº¦

  // åé¢çš„è¾¹ç”¨è™šçº¿+æµ…è‰²ï¼Œå‰é¢çš„è¾¹ç”¨å®çº¿+æ·±è‰²
  ctx.strokeStyle = avgZ < 0 ? '#555' : '#888';
  ctx.lineWidth = avgZ < 0 ? 1 : 2;
  ctx.setLineDash(avgZ < 0 ? [3, 3] : []);

  ctx.beginPath();
  ctx.moveTo(p1.x, p1.y);
  ctx.lineTo(p2.x, p2.y);
  ctx.stroke();
});
ctx.setLineDash([]);  // æ¢å¤å®çº¿
```

---

## 10. æ–‡ä»¶ç»“æ„

```
demos/cas-cube/
â”œâ”€â”€ index.html          (444è¡Œ - HTML/CSS/JSå…¨åœ¨ä¸€èµ·)
â”‚   â”œâ”€â”€ HTMLç»“æ„        (30è¡Œ)
â”‚   â”œâ”€â”€ CSSæ ·å¼         (130è¡Œ)
â”‚   â””â”€â”€ JavaScripté€»è¾‘  (284è¡Œ)
â”‚       â”œâ”€â”€ 2Dä¸»è§†å›¾æ¸²æŸ“    (70è¡Œ)
â”‚       â”œâ”€â”€ 3Dè¾…åŠ©è§†å›¾æ¸²æŸ“  (50è¡Œ)
â”‚       â”œâ”€â”€ æ‰°åŠ¨ä¼ æ’­        (20è¡Œ)
â”‚       â”œâ”€â”€ äº¤äº’æ£€æµ‹        (30è¡Œ)
â”‚       â”œâ”€â”€ åˆ†å½¢åˆ‡æ¢        (15è¡Œ)
â”‚       â””â”€â”€ UIæ›´æ–°          (99è¡Œ)
â””â”€â”€ data.js             (178è¡Œ - çº¯æ•°æ®)
    â”œâ”€â”€ ä¸‰ä¸ªç»´åº¦å®šä¹‰    (46è¡Œ)
    â”œâ”€â”€ ä¸‰ä¸ªåˆ†å½¢å±‚çº§    (96è¡Œ)
    â”œâ”€â”€ 3Dç«‹æ–¹ä½“æ•°æ®    (13è¡Œ)
    â””â”€â”€ UIæç¤º/å‚æ•°     (23è¡Œ)
```

---

## 11. æµ‹è¯•ç­–ç•¥

### 11.1 è§†è§‰æµ‹è¯•
- [ ] ä¸»è§†å›¾æ˜¯å¦æ˜¾ç¤ºé‡‘è‰²æ ¸å¿ƒä»£ç†ï¼Ÿ
- [ ] ä¸‰åœˆèŠ‚ç‚¹é¢œè‰²æ˜¯å¦æ­£ç¡®ï¼ˆç´«/ç²‰/è“ï¼‰ï¼Ÿ
- [ ] 3Dç«‹æ–¹ä½“æ˜¯å¦åœ¨æ—‹è½¬ï¼Ÿ

### 11.2 äº¤äº’æµ‹è¯•
- [ ] æ‚¬åœç´«è‰²åŒºåŸŸï¼Œæ˜¯å¦é«˜äº®ï¼Ÿ
- [ ] åˆ‡æ¢"å›¢é˜Ÿ"ï¼ŒèŠ‚ç‚¹æ ‡ç­¾æ˜¯å¦æ”¹å˜ï¼Ÿ
- [ ] ç‚¹å‡»"æ’­æ”¾æ‰°åŠ¨"ï¼Œæ˜¯å¦æœ‰ä¸‰è‰²æ³¢çº¹ï¼Ÿ

### 11.3 æ€§èƒ½æµ‹è¯•
- [ ] ä¸»è§†å›¾å¸§ç‡ â‰¥ 60fpsï¼Ÿ
- [ ] æ‚¬åœå“åº”å»¶è¿Ÿ < 100msï¼Ÿ

---

## 12. æ€»ç»“

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **2Dç½‘ç»œæ¸²æŸ“**ï¼šæåæ ‡å¸ƒå±€ + Canvas 2D API
- **æ‰°åŠ¨ä¼ æ’­**ï¼šrequestAnimationFrame åŠ¨ç”»å¾ªç¯
- **åˆ†å½¢åˆ‡æ¢**ï¼šæ•°æ®é©±åŠ¨æ¸²æŸ“
- **3Dè¾…åŠ©è§†å›¾**ï¼šæ¬§æ‹‰è§’æ—‹è½¬ + ç­‰è·æŠ•å½±

### ä»£ç ç»Ÿè®¡
- `data.js`: 178è¡Œï¼ˆçº¯æ•°æ®ï¼‰
- `index.html`: 444è¡Œï¼ˆå«HTML/CSS/JSï¼‰
- **æ€»è®¡**: 622è¡Œ
- **å‡€ä»£ç é‡**: ~185è¡Œï¼ˆä¸å«æ³¨é‡Šå’ŒUIä»£ç ï¼‰

### Linus å“å‘³æ£€æŸ¥
âœ… **å¥½å“å‘³**:
- æåæ ‡å¸ƒå±€æ¶ˆé™¤äº†ç¡¬ç¼–ç åæ ‡
- å•ä¸€`drawNode`å‡½æ•°å¤„ç†æ‰€æœ‰èŠ‚ç‚¹
- æ•°æ®é©±åŠ¨æ¸²æŸ“ï¼Œæ— ç‰¹æ®Šæƒ…å†µ

âœ… **é›¶ç ´åæ€§**:
- ç‹¬ç«‹æ¨¡å—ï¼Œä¸å½±å“å…¶ä»–æ¼”ç¤º

âœ… **å®ç”¨ä¸»ä¹‰**:
- 30è¡Œ3DæŠ•å½±ä»£æ›¿300KBçš„Three.js
- 2Dä¸»è§†å›¾ç›´æ¥è¡¨è¾¾æ ¸å¿ƒæ¦‚å¿µ

**"å¦‚æœå®ç°éœ€è¦è¶…è¿‡3å±‚ç¼©è¿›ï¼Œé‡æ–°è®¾è®¡å®ƒ"** âœ… é€šè¿‡

---

## 13. ä¸åŸæ–‡æ¦‚å¿µçš„å¯¹åº”å…³ç³»

| åŸæ–‡ï¼ˆç¬¬66-86è¡Œï¼‰ | å¯è§†åŒ–å®ç° |
|-------------------|-----------|
| "ç³»ç»Ÿå†…æˆ–åŒå±‚æ¬¡...è‡ªç»„ç»‡" | ç´«è‰²å†…åœˆï¼Œ6ä¸ªåŒäº‹å›´ç»•æ ¸å¿ƒ |
| "è·¨ç³»ç»Ÿ...ååŒè¿›åŒ–" | ç²‰è‰²ä¸­åœˆï¼Œ4ä¸ªå¤–éƒ¨ä»£ç† |
| "å±‚çº§æˆ–è·¨å±‚çº§...æ¶Œç°" | è“è‰²å‚ç›´è½´ï¼Œä¸Šä¸‹çº§ |
| "æ¯ä¸ªèŠ‚ç‚¹é“¾æ¥åˆ°å…¶ä»–ä¸‰ä¸ªèŠ‚ç‚¹" | æ ¸å¿ƒä»£ç†åŒæ—¶è¿æ¥ä¸‰åœˆ |
| "åˆ†å½¢ç»“æ„ï¼Œå±‚çº§ä¸­çš„å±‚çº§" | ä¸‰ä¸ªå±‚çº§ï¼ˆä¸ªäºº/å›¢é˜Ÿ/å…¬å¸ï¼‰ |
| "æ‰°åŠ¨æ²¿æ‰€æœ‰è·¯å¾„ä¼ æ’­" | ä¸‰è‰²æ³¢çº¹åŒæ—¶æ‰©æ•£ |
| "ç«‹æ–¹ä½“" | å³ä¸Šè§’3Dè¾…åŠ©è§†å›¾ï¼ˆéšå–»ï¼‰ |
